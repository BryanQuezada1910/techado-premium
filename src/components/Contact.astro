<section id="contacto" class="pt-20 mb-10">
  <div class="bg-base-200 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5">
    <div class="flex justify-center items-center lg:col-span-3 p-4">
      <form
        id="contact-form"
        action=""
        method=""
        class="w-[90%] lg:w-[75%] p-4 bg-base-300 shadow-xl rounded-lg"
      >
        <h3 class="text-2xl font-bold mb-4">Contáctanos</h3>
        <!-- Nombre -->
        <label class="input input-bordered flex items-center gap-2 mb-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="h-4 w-4 opacity-70"
          >
            <path
              d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"
            ></path>
          </svg>
          <input id="name" type="text" class="grow" placeholder="Nombre" />
        </label>
        <!-- Correo -->
        <label class="input input-bordered flex items-center gap-2 mb-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="h-4 w-4 opacity-70"
          >
            <path
              d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"
            ></path>
            <path
              d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"
            ></path>
          </svg>
          <input id="email" type="text" class="grow" placeholder="Correo" />
        </label>
        <!-- Teléfono -->

        <label class="input input-bordered flex items-center gap-2 mb-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="h-4 w-4 opacity-70"
            ><path
              d="m20.487 17.14-4.065-3.696a1.001 1.001 0 0 0-1.391.043l-2.393 2.461c-.576-.11-1.734-.471-2.926-1.66-1.192-1.193-1.553-2.354-1.66-2.926l2.459-2.394a1 1 0 0 0 .043-1.391L6.859 3.513a1 1 0 0 0-1.391-.087l-2.17 1.861a1 1 0 0 0-.29.649c-.015.25-.301 6.172 4.291 10.766C11.305 20.707 16.323 21 17.705 21c.202 0 .326-.006.359-.008a.992.992 0 0 0 .648-.291l1.86-2.171a.997.997 0 0 0-.085-1.39z"
            ></path></svg
          >
          <input id="phone" type="text" class="grow" placeholder="Teléfono" />
        </label>

        <!-- Mensaje -->
        <textarea
        id="message"
          placeholder="Escribenos un mensaje"
          class="textarea textarea-bordered textarea-md w-full h-56 mb-2"
        ></textarea>
        <!-- Botón de enviar -->
        <button type="submit" class="btn btn-primary w-full">Enviar</button>
      </form>
    </div>
    <div class="h-full flex flex-wrap p-4 lg:col-span-2">
      <!-- Mapa integrado -->
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3876.253915305767!2d-89.24608922426908!3d13.703065498418677!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f63312c4097c5bb%3A0xa3fd08899a7aebad!2sTechar%20s.a.%20de%20c.v.!5e0!3m2!1ses-419!2ssv!4v1733543481225!5m2!1ses-419!2ssv"
        allowfullscreen=""
        loading="lazy"
        aria-hidden="true"
        class="w-full h-80 md:h-[75%]"></iframe>

      <!-- Información de contacto -->
      <div class="flex flex-col w-full md:h-[25%] py-6">
        <p class="flex items-center mb-4 text-xl text-pretty">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-primary mr-2"
            viewBox="0 0 24 24"
            fill="currentColor"
            ><path
              d="M12 2C7.589 2 4 5.589 4 9.995 3.971 16.44 11.696 21.784 12 22c0 0 8.029-5.56 8-12 0-4.411-3.589-8-8-8zm0 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"
            ></path></svg
          >
          Y, P.º Gral. Escalón 4710, San Salvador
        </p>
        <p class="flex items-center text-xl">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-primary mr-2"
            viewBox="0 0 24 24"
            fill="currentColor"
            ><path
              d="m20.487 17.14-4.065-3.696a1.001 1.001 0 0 0-1.391.043l-2.393 2.461c-.576-.11-1.734-.471-2.926-1.66-1.192-1.193-1.553-2.354-1.66-2.926l2.459-2.394a1 1 0 0 0 .043-1.391L6.859 3.513a1 1 0 0 0-1.391-.087l-2.17 1.861a1 1 0 0 0-.29.649c-.015.25-.301 6.172 4.291 10.766C11.305 20.707 16.323 21 17.705 21c.202 0 .326-.006.359-.008a.992.992 0 0 0 .648-.291l1.86-2.171a.997.997 0 0 0-.085-1.39z"
            ></path></svg
          >
          2000-1234
        </p>
      </div>
    </div>
  </div>
  <dialog id="my_modal_2" class="modal">
    <div class="modal-box">
      <h3 class="text-lg font-bold">¡Mensaje enviado con éxito!</h3>
      <p class="py-4">Nos pondremos en contacto contigo lo más pronto posible.</p>
    </div>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </dialog>
</section>

<script is:inline>
  document.getElementById('contact-form').addEventListener('submit', function (event) {
    event.preventDefault();

    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const message = document.getElementById('message').value.trim();

    if (name === '' || email === '' || phone === '' || message === '') {
      alert('Todos los campos son requeridos');
      return;
    }

    if (!validateEmail(email)) {
      alert('Ingrese un correo electrónico válido');
      return;
    }

    if (!validatePhone(phone)) {
      alert('Ingrese un número de teléfono válido');
      return;
    }

    document.getElementById('my_modal_2').showModal();

    const form = document.getElementById("contact-form");

    form.reset();
  });

  function validatePhone(phone) {
    const re = /^\d{8}$/;
    return re.test(phone);
  }

  function validateEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
  }
</script>